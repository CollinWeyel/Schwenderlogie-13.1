<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Drehgeber</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/hybrid.css">

		<!-- Light comby
		<link rel="stylesheet" href="css/theme/white.css">
		<link rel="stylesheet" href="lib/css/default.css">
		-->

		<link rel="stylesheet" href="css/custom.css">

	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- Titlepage -->
				<section data-markdown>
					<textarea data-template>
						# Drehgeber

						Noah Grätz && Collin Weyel  
						13BG – Schwender
					</textarea>
				</section>

				<!-- Table of Contents -->
				<section>
					<h2>Inhalt</h2>

					<section data-markdown>
						<textarea data-template>
							* Überblick	<!-- .element: class="fragment" -->
							* Anwendungen	<!-- .element: class="fragment" -->
							* Funktionsprinzip	<!-- .element: class="fragment" -->
							* Bauarten	<!-- .element: class="fragment" -->
							* Anschaltung	<!-- .element: class="fragment" -->
							* Implementierung	<!-- .element: class="fragment" -->
							* Quellen	<!-- .element: class="fragment" -->
						</textarea>
					</section>
				</section>

				<!-- Überblick -->
				<section>
					<h2 id="sh">Überblick</h2>

					<section id="sh" data-markdown data-background-image="DSC_0700-747x569.jpg">
						<textarea data-template>
							* Verarbeitung von Drehimpulsen	<!-- .element: class="fragment" -->
							* Drehrichtungsermittlung	<!-- .element: class="fragment" -->
							* Ermittlung von Position	<!-- .element: class="fragment" -->
						</textarea>					
					</section>

					<section>
						<table>
							<tr>
								<th><u>Inkrementalgeber</u></th>
								<th><u>Absolutgeber</u></th>
							</tr>
							<tr class="fragment">
								<th>Signal bei Schritt</th>
								<th>Aktuelle Position</th>
							</tr>
							<tr class="fragment">
								<th>Drehrichtung kann ermittelt werden</th>
								<th>Keine Drehrichtung</th>
							</tr>
							<tr class="fragment">
								<th>Position unbekannt</th>
							</tr>
						</table>
					</section>
				</section>

				<!-- Anwendungen -->
				<section>
					<h2>Anwendungen</h2>

					<section data-markdown>
						<textarea data-template>
							* Drehzalmessung	<!-- .element: class="fragment" -->  
							![https://www.elmtec.de/artikel/bilder/Rotaro%203.jpg](Rotaro3.jpg)	<!-- .element: class="fragment fade-in-then-out float" -->
							* Positionsmessung	<!-- .element: class="fragment" -->
							* Beispiele:	<!-- .element: class="fragment" -->
							 * Computermaus	<!-- .element: class="fragment" -->
							 * Kaffevollautomat	<!-- .element: class="fragment" -->
							 * Smart Watch	<!-- .element: class="fragment" -->
						</textarea>
					</section>
				</section>

				<!-- Funktionsprinzip -->
				<section>
					<h2>Funktionsprinzip</h2>

					<section data-markdown>
						<textarea data-template>
							## Inkrementaler Drehgeber
							* Anschlüsse: GND(-), VCC(+), SW, DT(B), CLK(A)  
							![https://upload.wikimedia.org/wikipedia/commons/1/1e/Incremental_directional_encoder.gif](Incremental_directional_encoder.gif)	<!-- .element: class="fragment fade-in-then-out float" -->
							![https://www.mikrocontroller.net/wikifiles/d/d5/Encoder_signal.png](Encoder_signal.png)	<!-- .element: class="fragment fade-in" -->
							* Messart ist egal	<!-- .element: class="fragment" -->
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
							## Absoluter Drehgeber
							* Anschlüsse: GND(-), VCC(+), SW, A, B, C, ...  
							![https://upload.wikimedia.org/wikipedia/commons/0/0b/Encoder_disc_%283-Bit_binary%29.svg](Encoder_disc.png) <!-- .element: class="fragment fade-in-then-out float" -->
							![https://www.anaheimautomation.com/manuals/forms/images/Absolute%20Encoder%20disk%20with%20concentric%20circle%20pattern.png](AbsoluteEncoderdisk.png) <!-- .element: class="fragment fade-in" -->
							* 2⁹ = 512 Schritte <!-- .element: class="fragment" -->
						</textarea>
					</section>
				</section>

				<!-- Bauarten -->
				<section>
					<h2>Bauarten</h2>

					<section data-markdown>
						<textarea data-template>
							## Mechanischer Drehregler

							![https://howtomechatronics.com/wp-content/uploads/2016/07/Rotary-Encoder-How-It-Works-Working-Principle.png](Rotary-Encoder-How-It-Works-Working-Principle.png)
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
						 ## Optischer Drehgeber

						 ![https://rn-wissen.de/wiki/images/5/5f/Gp1a30.jpg](Gp1a30.jpg)
						</textarea>
					</section>
				</section>

				<!-- Anschaltung -->
				<section>
					<h2>Anschaltung</h2>

					<section data-markdown>
						<textarea data-template>

						</textarea>
					</section>
				</section>

				<!-- Implementierung -->
				<section>
					<h2>Implementierung</h2>

					<section data-markdown>
						<textarea data-template>
							### Setup in C++

							```
							const int A = 4;
							const int B = 8;

							int value = 0;
							int aLast;

							void setup() {
								Serial.begin(9600);

								pinMode(A, INPUT);
								pinMode(B, INPUT);
								aLast = digitalRead(A);
							}
							```
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
							### Verarbeitung in C++

							```
							void loop() {
							  int aNow = digitalRead(A);
							  int bNow = digitalRead(B);

							  if (aLast != aNow){
							    if (bNow != aNow){
							      value++;
							    }else{
							      value--;
							    }
							    aLast = aNow;
							    Serial.println(value);
							  }
							}
							```
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
							### Setup in Assembler

							```
							INIT_REGISTER:
								IN    R16, DDRD        ; PORTD2 und PORTD3
								ANDI  R16, 0b11110011  ; -> INPUT
								OUT   DDRD, R16
								IN    R16, PORTD       ; PORTD2 und PORTD3
								ORI   R16, 0b00001100  ; -> PULLUP
								OUT   PORTD, R16

								IN    R16, DDRB        ; PORTB0, PORTB1 und PORTB2
								ORI   R16, 0b00000111  ; -> OUTPUT
								OUT   DDRB, R16

								LDI   R16, 0b00000000
								SBI   PORTB, 2
							```
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
							### MAIN in Assembler

							```
							MAIN:
								MOV   R18, R16
								IN    R16, PIND
								ANDI  R16, 0b00000100
								CP    R16, R18
								BREQ  MAIN
								CPI   R16, 0b00000100
								BREQ  MAIN

								IN    R18, PIND
								ANDI  R18, 0b00001000
								CPI   R18, 0b00000000

								IN    R18, PORTB
								CBI   PORTB, 0
								CBI   PORTB, 1
								CBI   PORTB, 2

								BREQ  CLOCKWISE
							```
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
							### ANTICLOCKWISE in Assembler
							Rot  -> Grün -> Gelb

							```
							ANTICLOCKWISE:
								SBRC  R18,   0
								SBI   PORTB, 2
								SBRC  R18,   1
								SBI   PORTB, 0
								SBRC  R18,   2
								SBI   PORTB, 1
								RJMP  MAIN
							```
						</textarea>
					</section>

					<section data-markdown>
						<textarea data-template>
							### CLOCKWISE in Assembler
							Gelb  -> Grün -> Rot

							```
							CLOCKWISE:
								SBRC  R18,   0
								SBI   PORTB, 1
								SBRC  R18,   1
								SBI   PORTB, 2
								SBRC  R18,   2
								SBI   PORTB, 0
								RJMP  MAIN

							.EXIT
							```
						</textarea>
					</section>
				</section>

				<!-- Quellen -->
				<section>
					<h2>Quellen</h2>

					<section data-markdown>
						<textarea data-template>
							* Bilder:
							 * [rs-online](https://www.modmypi.com/image/cache/catalog/electronics/sensors/rotary-encoder/DSC_0700-747x569.jpg)
							 * [elmtec](https://www.elmtec.de/artikel/bilder/Rotaro%203.jpg)
							 * [wikimedia](https://upload.wikimedia.org/wikipedia/commons/1/1e/Incremental_directional_encoder.gif)
							 * [mikricontroller](https://www.mikrocontroller.net/wikifiles/d/d5/Encoder_signal.png)
							 * [wikimedia](https://upload.wikimedia.org/wikipedia/commons/0/0b/Encoder_disc_%283-Bit_binary%29.svg)
							 * [anaheimautimation](https://www.anaheimautomation.com/manuals/forms/images/Absolute%20Encoder%20disk%20with%20concentric%20circle%20pattern.png)
							 * [howtomechatronics](https://howtomechatronics.com/wp-content/uploads/2016/07/Rotary-Encoder-How-It-Works-Working-Principle.png)
							 * [rn-wissen](https://rn-wissen.de/wiki/images/5/5f/Gp1a30.jpg)
						</textarea>
					</section>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				controls: false,

				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
